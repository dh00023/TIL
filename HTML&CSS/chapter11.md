# HTML5 + CSS3 웹 표준의 정석

## Chapter11. HTML5와 멀티미디어

### 웹과 멀티미디어

웹 사이트에서 플러그인을 이용해 멀티미디어를 재생하는 것은 문제점이 많다. 미디어 파일 형식에 따라 사용하는 플러그인 프로그램이 달라진다는 점이 가장 큰 문제다. ActiveX는 개발자가 원하는 대로 수정이 가능해 원래 의도한 목적 외에도 여러파일을 자동 설치할 수 있다. 심지어 바이러스가 포함 될 수도 있다.

**HTML5**웹 표준이 지정되면서 플러그인 프로그램들이 사라지고 있다. 이제는 대부분 **HTML5 플레이어**를 사용한다.

플러그인(plug-in) : 웹 브라우저에서 처리할 수 없는 작업을 위해 웹 문서 안에 포함시킨 외부 프로그램 기능

* `<object>` : 외부 파일 삽입하기
	* 자바 애플릿, PDF 파일, 플래시 무비 같은 콘텐츠를 웹 문서안에 포함시키기 위해 사용.

| 속성 | 설명 |
|:--------:|:--------|
| **data** | 외부 파일의 경로 지정 |
| **type** | 포함시킨 내용의 유형 지정|
| name | 다른 요소와 구분할 수 있는 이름 지정|
| width | 포함시킨 내용의 너비 값 지정|
| height | 포함시킨 내용의 높이 값 지정|

```erb
<object data="경로" type="유형" name="이름" width="넓이" height="높이"></object>

<object data="CalmBay.swf" type="application/x-shockwave-flash" width="450" height="400"></object>
```

* `<embed>` : 외부 파일 삽입하기
```erb
<embed src="경로" type="유형" width="너비" height="높이">
<embed src="CalmBay.swf" width="450" height="400">
```

* 인코딩 : 원본 비디오를 최대한 압축해 컴퓨터에서 사용할 수 있는 비디오 파일로 변환
* 디코딩 : 비디오 파일에 저장되어 있는 비디오 정보를 가져와 비디오 플레이어에 보여주는 과정
* 비디오 코덱 : 인코딩과 디코딩을 수행하는 것

| 비디오코덱 | 설명 |
|:--------|:--------|
| H.264/AVC | mp4 파일에서 사용한다. 고화질 영상을 지원하기 때문에 멀티미디어 업계에서 표준으로 사용하고 있다. 유료 코덱이지만 온라인 상에서 사용할 경우에 한해 무료로 사용할 수 있다.|
| v8, v9| 구글에서 오픈소스로 공개한 코덱. webm 파일에서 사용한다. H.264보다 하드웨어 지원이 부족한 단점. 화질이 우수, 무료로 제공됨|
| Ogg Theora(오그 테오라) | 무료 공개 코덱, ogv파일에서 사용. 다른 코덱보다 화질은 떨어짐|

* 오디오 코덱

| 오디오 코덱 | 설명 |
|--------|--------|
|MPEG-1 AUDIO Layer3| 흔히 'MP3 코덱'이라 부름. mp3파일에선 이 코덱 사용 |
|Ogg Vorbis|MP3와 달리 오픈 소스, 누구나 무료로 사용가능 ,`.ogg`, `.oga`사용, 재생할 수 있는 플레이어가 적고, 인코딩 시간이 오래걸리는 단점|

* HTML5 비디오 변환 하기
	* [[카카오인코더(mp4, webm)변환]](http://blog.naver.com/cacaotools)
	* [[팟 인코더(ogv) 변환]](http://www.daum.net/)

### 오디오 & 비디오 재생하기

* `<audio>` : 오디오 파일 삽입( 가능하면 mp3파일 삽입)

```erb
<audio src="오디오 파일 경로"[속성][속성="속성 값"]></audio>
```

| 속성 | 설명 |
|--------|--------|
|autoplay|오디오 자동 재생|
|controls|웹 화면에 컨트롤 막대 표시(재생/멈춤/진행 바/ 볼륨)|
|loop| 오디오를 반복 재생 |
|muted| 오디오를 재생해 진행하지만 소리는 끈다|
|preload| 재생 버튼을 눌러 재생하기 전에 오디오 파일을 다운로드해 준비해 둔다. |


* `<video>` : 비디오 파일 삽입

```erb
<video src="오디오 파일 경로"[속성][속성="속성 값"]></video>
```

| 속성 | 설명 |
|--------|--------|
|autoplay|자동 재생-사용하지 않기를 권함|
|controls|웹 화면에 컨트롤 막대 표시(재생/멈춤/진행 바/ 볼륨)|
|loop| 반복 재생 |
|muted| 소리는 끄고 화면만 재생|
|preload| 재생하기 전에 파일을 모두 다운할 것인지 일부만 다운할 것인지 지정(none, metadata, auto) |
|weight, height| 비디오 크기 조절 |
|poster| 문제상황표시|

* `<source>` : 여러 미디어 파일 한꺼번에 지정

```erb
<source src="video.ogv" type="video/ogg; codecs='theora,vorbis'"]>

<video controls>
	<source src="media/Painting.ogv" type="video/ogg">
	<source src="media/Painting.mp4" type="video/mp4">
	<source src="media/Painting.webm" type="video/webm">
</video>
```

| 속성 | 설명 |
|--------|--------|
|src|미디어 파일 경로를 지정하는 필수속성|
|type|웹 브라우저가 해당 미디어파일을 재생할 수 있는지 여부 확인을 위한 미디어 파일 유형|
|codecs| 비디오 코덱지정|

이전 브라우저를 고려해 여러형식의 파일을 올려도 재생되지 않는 경우가 있다. 이건 웹 서버에서 확장자를 인식하지 못했기 때문이다. **MIME**유형 추가해야한다. **MIME**란 서버에서 클라이언트 쪽에 파일을 보낼때 표시법을 알려주기 위해 함께 보내는 파일 형식 정보.

* `<track>` : 비디오 화면에 자막 추가하기

```erb
<track kind="자막종류" src="경로" srclang="언어" label="제목" default=""></track>
```

-- kind속성 값

| 속성 값 | 설명 |
|--------|--------|
|**subtitles**|자막입니다.|
|captions|캡션(청각장애인용 자막이거나 소리를 들을 수 없거나 켤 수 없는 경우에 사용)|
|descriptions|비디오 콘텐츠에 대한 설명(화면표시X)|
|chapters|비디오 탐색을 위한 장 제목(화면표시X)|
|metadata|비디오 콘텐츠 정보(화면표시X)|

주로 자막 파일로는 HTML5에서는 **srt**파일을 사용하지만 모든 브라우저에서 공식적으로 지원하는 자막 파일형식은 WebVTT(`.vtt`)이다.

```vtt
WEBVTT

시작시간 --> 종료시간
자막내용

00:00.000 --> 00:02.172
예술이란

00:02.172 --> 00:05.719
자연이 인간에 투영된 것입니다

00:05.719 --> 00:07.716
중요한 것은

00:07.716 --> 00:11.061
깨끗하게 투영될 수 있도록

00:11.061 --> 00:20.879
늘 깨끗하게 거울을 닦는 일입니다
```

[**HTML5 Video Caption Maker**](https://testdrive-archive.azurewebsites.net/graphics/captionmaker/)사이트로 쉽게 비디오에 자막 추가할 수 있다.