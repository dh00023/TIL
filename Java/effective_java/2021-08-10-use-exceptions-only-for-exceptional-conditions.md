# ITEM 69: 예외는 진짜 예외 상황에만 사용해라

- 예외는 예외 상황에 쓸 용도로 설계되었으므로 최적화에 신경쓰지 않았을 가능성이 크다.(실제로 표준 관용구보다 더 느림)
- 코드를 `try-catch` 블럭 안에 넣으면 JVM이 적용할 수 있는 최적화가 제한 된다.
- 배열을 순회하는 표준 관용구는 중복 검사를 수행하지 않는다. JVM이 알아서 최적화해준다.

**예외는 반드시 예외 상황에서만 사용해야하며, 일상적인 제어 흐름용으로 사용하면 안된다.**
잘 설계된 API는 클라이언트가 정상적인 제어 흐름에서 예외를 사용할 일이 없도록 해야한다.

```java
for(Iterator<Foo> i = collection.iteraotr(); i.hasNext();){ // 상태 검사
  Foo foo = i.next(); // 상태 의존적 메서드
}
```

상태 의존적 메서드(`next()`)를 제공하는 클래스는 상태 검사(`hasNext()`) 메서드를 제공해야한다.

#### 상태 검사 메서드, 옵셔널, 특정 값 을 선택하는 지침

1. 외부 동기화 없이 여러 스레드가 동시에 접근할 수 있거나, 외부 요인으로 상태가 변할 수 있으면 옵셔널이나 특정 값 사용
    - 상태 검사 메서드와 상태 의존적 메서드 호출 사이에 객체 상태가 변할 수 있음.
2. 성능이 중요한 상황에서 상태 검사 메서드가 상태 의존적 메서드의 작업 일부를 중복 수행하는 경우 옵셔널이나 특정 값 사용
3. 1,2외의 모든 경우에는 상태 검사 메서드 방식이 더 좋음.
    - 가독성이 더 좋음
    - 오류를 발견하기 쉬움