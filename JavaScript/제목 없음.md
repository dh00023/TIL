# AJAX

- Asynchronous JavaScript and XML 의 약자
- 자바스크립트를 이용해서 비동기식으로 서버와 통신하는 방식. 이 때 XML을 이용한다.
- 꼭 XML을 이용할 필요는 없고, 최근에는 json을 더 많이 이용한다.
- 비동기식이란 여러가지 일이 동시적으로 발생한다는 뜻으로, 서버와 통신하는 동안 다른 작업을 할 수 있다는 의미. 서버와의 통신은 백그라운드로 이루어진다.

동기식은 신용카드를 결제할 때 사용한다. 동기식은 서버와 웹 브라우저가 통신하는 동안은 어떠한 작업도 할 수 없는 걸 의미한다.

```js
$.ajax(settings)
```

| 주요 속성 | 설명 |
|------|------|
|data | 서버에 전송할 데이터, key/value 형식의 객체|
|dataType | 서버가 리턴하는 데이터 타입 (xml, json, script, html)|
|type | 서버로 전송하는 데이터의 타입 (POST, GET)|
|url | 데이터를 전송할 URL|
|success| ajax통신에 성공했을 때 호출될 이벤트 핸들러|

```xml
<!DOCTYPE html>
<html>
    <head>
        <script src="http://code.jquery.com/jquery-latest.js"></script>
    </head>
    <body>
        <div id="result"></div>
        <input type="text" id="msg" />
        <input type="button" value="get result" id="getResult" />
        <script>
            $('#getResult').click( function() {
                $('#result').html('');
                $.ajax({
                    url:'http://opentutorials.org/example/jquery/example.jquery.ajax.php',
                    dataType:'json',
                    type:'POST',
                    data:{'msg':$('#msg').val()},
                    success:function(result){
                        if(result['result']==true){
                          $('#result').html(result['msg']);
                        }
                    }
                });
            })
        </script>
    </body>
</html>
```

## 멋쟁이사자처럼 7주차 AJAX

AJAX란 비동기 JavaScript와 XML을 말합니다. 간단히 말하면, 서버측 Scripts와 통신하기 위한 XMLHttpRequest객체를 사용하는 것을 말합니다. 서버측으로 다양한 형식(JSON, XML, HTML 및 일반 텍스트 형식 등)의 정보를 주고 받을 수 있습니다. AJAX의 강력한 특징은 페이지 전체를 리프레쉬 하지 않고서도 수행 되는 "비동기성"입니다. 이러한 비동기성을 통해 사용자의 Event가 있으면 전체 페이지가 아닌 일부분만을 업데이트 할 수 있게 해줍니다.

다시 말해 아래와 같이 두가지로 정리됩니다.

- 페이지 일부분을 업데이트 하기 위한 정보를 서버에 요청할 수 있다.
- 서버로부터 받은 데이터로 작업을 한다.

jQuery를 통해서 ajax를 짜볼 것이다.

[https://code.jquery.com/](https://code.jquery.com/)에서 jQuery CDN을 가져온다.

```xml
<script src=”http://code.jquery.com/jquery-1.12.3.min.js” ></script>
```
이 script는 반드시 부트스트랩 위에 해줘야한다.

**레일즈에서는 ajax를 자동으로 include하므로 따로 추가해줄 필요없다. 이때, `turbolink`는 꺼주는 것이 좋다.**